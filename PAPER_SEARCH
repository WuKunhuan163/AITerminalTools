#!/usr/bin/env python3
"""
PAPER_SEARCH 命令入口脚本
"""

import sys
import os
from pathlib import Path

# 添加paper_searcher目录到Python路径
script_dir = Path(__file__).parent
paper_searcher_dir = Path.home() / ".local" / "project" / "paper_searcher"
sys.path.insert(0, str(paper_searcher_dir))

from paper_search_handler import PaperSearchHandler


def main():
    """主函数"""
    handler = PaperSearchHandler()
    
    # 如果有命令行参数，直接处理
    if len(sys.argv) > 1:
        # 重新构建完整的用户输入
        user_input = "PAPER_SEARCH " + " ".join(sys.argv[1:])
        return handler.handle_paper_search(user_input)
    
    # 否则进入交互模式
    return handler.interactive_paper_search()


if __name__ == '__main__':
    sys.exit(main()) 