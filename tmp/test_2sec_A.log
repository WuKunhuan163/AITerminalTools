🚀 设置GDS全面测试环境...
📁 远端测试目录: ~/tmp/gds_test_20250829_023958_574495_8ba2f4d4
⚠️ 创建远端测试目录失败: 返回码=1, stderr=, stdout=
- Executing command 1/2: cd ~

- Executing command 2/2: mkdir -p ~/tmp/gds_test_20250829_023958_574495_8ba2f4d4
🔒 DEBUG: [0.000s] [ENTRY] execute_generic_remote_command - 请求窗口槽位 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash, thread: 8660021824
🔒 DEBUG: [0.000s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
⏳ DEBUG: [0.000s] [QUEUE_WAITING] 加入等待队列: bash_8660021824_1756406400366_de65e7ac, 位置: 1, thread: 8660021824
💓 DEBUG: [0.000s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [0.000s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [0.001s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.001s] [HEARTBEAT_BEFORE] 注册前心跳状态: {}
💓 DEBUG: [0.001s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.001s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false'}
💓 DEBUG: [0.001s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [0.002s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
🔒 DEBUG: [0.504s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [0.504s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [0.504s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [0.504s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.504s] [HEARTBEAT_BEFORE] 注册前心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'true', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [0.505s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.505s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [0.505s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [0.505s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
🔒 DEBUG: [1.010s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.010s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [1.011s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [1.011s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.011s] [HEARTBEAT_BEFORE] 注册前心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'true', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.011s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.011s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.011s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [1.011s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.011s] [NEXT_CHECK] 检查是否为下一个窗口: bash_8660021824_1756406400366_de65e7ac == bash_8660021824_1756406400366_de65e7ac -> True
💓 DEBUG: [1.011s] [HEARTBEAT_CHECK] 检查心跳超时 - watcher: bash_8660021824_1756406400366_de65e7ac, heartbeat: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.012s] [HEARTBEAT_FAIL_COUNT] 心跳失败次数: 1/2 - watcher: bash_8660021824_1756406400366_de65e7ac
🔒 DEBUG: [1.513s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.516s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [1.517s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [1.518s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.519s] [HEARTBEAT_BEFORE] 注册前心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'true', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.521s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.522s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.523s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [1.524s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.525s] [NEXT_CHECK] 检查是否为下一个窗口: bash_8660021824_1756406400366_de65e7ac == bash_8660021824_1756406400366_de65e7ac -> True
💓 DEBUG: [1.526s] [HEARTBEAT_CHECK] 检查心跳超时 - watcher: bash_8660021824_1756406400366_de65e7ac, heartbeat: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.526s] [HEARTBEAT_FAIL_COUNT] 心跳失败次数: 2/2 - watcher: bash_8660021824_1756406400366_de65e7ac
💀 DEBUG: [1.527s] [HEARTBEAT_TIMEOUT] 连续心跳失败，清除窗口: bash_8660021824_1756406400294_50d09aa4 (失败次数: 2)
💀 DEBUG: [1.528s] [HEARTBEAT_CLEAR] 心跳检测清除了卡住的窗口，重试获取槽位
🔒 DEBUG: [1.528s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
⏰ DEBUG: [1.528s] [MIN_INTERVAL] 强制2秒间隔：距上次窗口 1.60s < 2.0s，等待中...
💓 DEBUG: [1.529s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: False
💓 DEBUG: [1.529s] [HEARTBEAT_NO_CURRENT] 没有当前窗口，无法注册心跳: bash_8660021824_1756406400366_de65e7ac
🔓 DEBUG: [1.529s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.529s] [NEXT_CHECK] 检查是否为下一个窗口: bash_8660021824_1756406400366_de65e7ac == bash_8660021824_1756406400366_de65e7ac -> True
💓 DEBUG: [1.530s] [HEARTBEAT_NO_CURRENT_CHECK] 没有当前窗口进行心跳检查
🔒 DEBUG: [2.030s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
🚀 DEBUG: [2.031s] [QUEUE_ACQUIRED] 立即获得窗口槽位: bash_8660021824_1756406400366_de65e7ac, thread: 8660021824
🔓 DEBUG: [2.031s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
✅ DEBUG: [2.032s] [ACQUIRED] 窗口槽位已获得 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
🖥️ DEBUG: [2.047s] [EXEC] 开始执行远端命令 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
💓 DEBUG: [2.253s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [2.254s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.457s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.467s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.674s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [2.675s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.880s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.881s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.085s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [3.086s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.291s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.292s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.497s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.499s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.704s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [3.887s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.143s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [4.146s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.353s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.354s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.560s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.561s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.766s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [4.767s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.969s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.970s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.175s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [5.175s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.381s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.381s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.585s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.586s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.791s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [5.792s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.997s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.997s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
📋 DEBUG: [6.168s] [RESULT] 远端命令执行完成 - window_id: bash_8660021824_1756406400366_de65e7ac, success: False
✅ DEBUG: [6.169s] [MARK_COMPLETED] 窗口标记为已完成: bash_8660021824_1756406400366_de65e7ac
✅ DEBUG: [6.170s] [MARK_COMPLETE] 窗口已标记为完成 - window_id: bash_8660021824_1756406400366_de65e7ac
🔓 DEBUG: [6.170s] [RELEASE] 释放窗口槽位 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
🔒 DEBUG: [6.170s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
✅ DEBUG: [6.170s] [QUEUE_RELEASE] 释放当前窗口槽位: bash_8660021824_1756406400366_de65e7ac, thread: 8660021824
📊 DEBUG: [6.170s] [COUNTER] 窗口完成计数: 32 - window_id: bash_8660021824_1756406400366_de65e7ac
🔄 DEBUG: [6.170s] [QUEUE_NEXT] 下一个窗口获得槽位: bash_8660021824_1756406400366_de65e7ac, thread: 8660021824
🎯 DEBUG: [6.170s] [IMMEDIATE_RELEASE] 窗口槽位立即释放完成 - window_id: bash_8660021824_1756406400366_de65e7ac
🔓 DEBUG: [6.170s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
✅ DEBUG: [6.171s] [RELEASED] 窗口槽位已释放 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
mkdir命令执行失败: User operation: Timeout or cancelled
setUpClass (_UNITTEST.test_gds.GDSTest) ... ERROR

======================================================================
ERROR: setUpClass (_UNITTEST.test_gds.GDSTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/wukunhuan/.local/bin/_UNITTEST/test_gds.py", line 65, in setUpClass
    cls._setup_remote_test_directory()
  File "/Users/wukunhuan/.local/bin/_UNITTEST/test_gds.py", line 87, in _setup_remote_test_directory
    raise RuntimeError(error_msg)
RuntimeError: 创建远端测试目录失败: 返回码=1, stderr=, stdout=
- Executing command 1/2: cd ~

- Executing command 2/2: mkdir -p ~/tmp/gds_test_20250829_023958_574495_8ba2f4d4
🔒 DEBUG: [0.000s] [ENTRY] execute_generic_remote_command - 请求窗口槽位 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash, thread: 8660021824
🔒 DEBUG: [0.000s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
⏳ DEBUG: [0.000s] [QUEUE_WAITING] 加入等待队列: bash_8660021824_1756406400366_de65e7ac, 位置: 1, thread: 8660021824
💓 DEBUG: [0.000s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [0.000s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [0.001s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.001s] [HEARTBEAT_BEFORE] 注册前心跳状态: {}
💓 DEBUG: [0.001s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.001s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false'}
💓 DEBUG: [0.001s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [0.002s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
🔒 DEBUG: [0.504s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [0.504s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [0.504s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [0.504s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.504s] [HEARTBEAT_BEFORE] 注册前心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'true', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [0.505s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [0.505s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [0.505s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [0.505s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
🔒 DEBUG: [1.010s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.010s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [1.011s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [1.011s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.011s] [HEARTBEAT_BEFORE] 注册前心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'true', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.011s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.011s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.011s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [1.011s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.011s] [NEXT_CHECK] 检查是否为下一个窗口: bash_8660021824_1756406400366_de65e7ac == bash_8660021824_1756406400366_de65e7ac -> True
💓 DEBUG: [1.011s] [HEARTBEAT_CHECK] 检查心跳超时 - watcher: bash_8660021824_1756406400366_de65e7ac, heartbeat: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.012s] [HEARTBEAT_FAIL_COUNT] 心跳失败次数: 1/2 - watcher: bash_8660021824_1756406400366_de65e7ac
🔒 DEBUG: [1.513s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.516s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: True
💓 DEBUG: [1.517s] [HEARTBEAT_TRY] 尝试注册心跳监视器: bash_8660021824_1756406400366_de65e7ac -> 当前窗口: bash_8660021824_1756406400294_50d09aa4
💓 DEBUG: [1.518s] [HEARTBEAT_ENTER_INTERNAL] 进入内部心跳注册函数: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.519s] [HEARTBEAT_BEFORE] 注册前心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'true', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.521s] [HEARTBEAT_REG] 注册心跳监视器: bash_8660021824_1756406400366_de65e7ac
💓 DEBUG: [1.522s] [HEARTBEAT_AFTER] 注册后心跳状态: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.523s] [HEARTBEAT_TRY_RESULT] 注册心跳监视器结果: True
🔓 DEBUG: [1.524s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.525s] [NEXT_CHECK] 检查是否为下一个窗口: bash_8660021824_1756406400366_de65e7ac == bash_8660021824_1756406400366_de65e7ac -> True
💓 DEBUG: [1.526s] [HEARTBEAT_CHECK] 检查心跳超时 - watcher: bash_8660021824_1756406400366_de65e7ac, heartbeat: {'bash_8660021824_1756406400366_de65e7ac': 'false', 'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [1.526s] [HEARTBEAT_FAIL_COUNT] 心跳失败次数: 2/2 - watcher: bash_8660021824_1756406400366_de65e7ac
💀 DEBUG: [1.527s] [HEARTBEAT_TIMEOUT] 连续心跳失败，清除窗口: bash_8660021824_1756406400294_50d09aa4 (失败次数: 2)
💀 DEBUG: [1.528s] [HEARTBEAT_CLEAR] 心跳检测清除了卡住的窗口，重试获取槽位
🔒 DEBUG: [1.528s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
⏰ DEBUG: [1.528s] [MIN_INTERVAL] 强制2秒间隔：距上次窗口 1.60s < 2.0s，等待中...
💓 DEBUG: [1.529s] [HEARTBEAT_CHECK_CURRENT] 检查当前窗口状态: False
💓 DEBUG: [1.529s] [HEARTBEAT_NO_CURRENT] 没有当前窗口，无法注册心跳: bash_8660021824_1756406400366_de65e7ac
🔓 DEBUG: [1.529s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
💓 DEBUG: [1.529s] [NEXT_CHECK] 检查是否为下一个窗口: bash_8660021824_1756406400366_de65e7ac == bash_8660021824_1756406400366_de65e7ac -> True
💓 DEBUG: [1.530s] [HEARTBEAT_NO_CURRENT_CHECK] 没有当前窗口进行心跳检查
🔒 DEBUG: [2.030s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
🚀 DEBUG: [2.031s] [QUEUE_ACQUIRED] 立即获得窗口槽位: bash_8660021824_1756406400366_de65e7ac, thread: 8660021824
🔓 DEBUG: [2.031s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
✅ DEBUG: [2.032s] [ACQUIRED] 窗口槽位已获得 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
🖥️ DEBUG: [2.047s] [EXEC] 开始执行远端命令 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
💓 DEBUG: [2.253s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [2.254s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.457s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.467s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.674s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [2.675s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.880s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [2.881s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.085s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [3.086s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.291s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.292s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.497s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.499s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [3.704s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [3.887s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.143s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [4.146s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.353s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.354s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.560s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.561s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.766s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [4.767s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.969s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [4.970s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.175s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [5.175s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.381s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.381s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.585s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.586s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.791s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'false'}
💓 DEBUG: [5.792s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.997s] [HEARTBEAT_UPDATE_BEFORE] 更新前心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
💓 DEBUG: [5.997s] [HEARTBEAT_UPDATE_AFTER] 更新后心跳状态: {'bash_8660021824_1756406400294_b47fa0ee': 'true'}
📋 DEBUG: [6.168s] [RESULT] 远端命令执行完成 - window_id: bash_8660021824_1756406400366_de65e7ac, success: False
✅ DEBUG: [6.169s] [MARK_COMPLETED] 窗口标记为已完成: bash_8660021824_1756406400366_de65e7ac
✅ DEBUG: [6.170s] [MARK_COMPLETE] 窗口已标记为完成 - window_id: bash_8660021824_1756406400366_de65e7ac
🔓 DEBUG: [6.170s] [RELEASE] 释放窗口槽位 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
🔒 DEBUG: [6.170s] [FILE_LOCK] 成功获取文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
✅ DEBUG: [6.170s] [QUEUE_RELEASE] 释放当前窗口槽位: bash_8660021824_1756406400366_de65e7ac, thread: 8660021824
📊 DEBUG: [6.170s] [COUNTER] 窗口完成计数: 32 - window_id: bash_8660021824_1756406400366_de65e7ac
🔄 DEBUG: [6.170s] [QUEUE_NEXT] 下一个窗口获得槽位: bash_8660021824_1756406400366_de65e7ac, thread: 8660021824
🎯 DEBUG: [6.170s] [IMMEDIATE_RELEASE] 窗口槽位立即释放完成 - window_id: bash_8660021824_1756406400366_de65e7ac
🔓 DEBUG: [6.170s] [FILE_LOCK] 释放文件锁: /Users/wukunhuan/.local/bin/GOOGLE_DRIVE_PROJ/../GOOGLE_DRIVE_DATA/remote_window_queue.lock
✅ DEBUG: [6.171s] [RELEASED] 窗口槽位已释放 - window_id: bash_8660021824_1756406400366_de65e7ac, cmd: bash
mkdir命令执行失败: User operation: Timeout or cancelled


----------------------------------------------------------------------
Ran 0 tests in 8.173s

FAILED (errors=1)

