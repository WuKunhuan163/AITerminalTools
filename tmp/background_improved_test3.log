test_03_echo_local_redirect_test (_UNITTEST.test_gds.GDSTest.test_03_echo_local_redirect_test)
测试echo的本地重定向行为（错误语法示例） ... 🚀 设置GDS全面测试环境...
📁 远端测试目录: ~/tmp/gds_test_20250829_000043_256737_436223f2
✅ 已切换到远端测试目录: ~/tmp/gds_test_20250829_000043_256737_436223f2
📁 本地临时目录: /var/folders/w0/m02j_xv925sg34708rb2xgzr0000gn/T/gds_test_local_l3u8ig57
✅ 测试环境设置完成

🧪 测试03: Echo本地重定向行为

🔧 执行命令: echo '{"name": "test", "value": 123}' > local_redirect.txt
📤 返回码: 0
📝 文件内容: 🔒 DEBUG: [0.000s] [ENTRY] execute_generic_remote_command - 请求窗口槽位 - window_id: echo_8660021824_1756396870536_e0c2f8e2, cmd: echo, thread: 8660021824
⏳ DEBUG: [0.000s] [QUEUE_WAITING] 加入等待队列: echo_8660021824_1756396870536_e0c2f8e2, 位置: 2, thread: 8660021824
🕐 等待队列中超时请求，移除: bash_8660021824_1756396850767_1bf877d8
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: bash_8660021824_1756396850767_1bf877d8
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: bash_8660021824_1756396850767_1bf877d8
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: bash_8660021824_1756396850767_1bf877d8
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: bash_8660021824_1756396850767_1bf877d8
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: bash_8660021824_1756396850767_1bf877d8
🕐 等待队列中超时请求，移除: echo_8660021824_1756396870536_e0c2f8e2
🧹 清理了 2 个无效的等待请求
⏳ DEBUG: [36.231s] [QUEUE_WAITING] 加入等待队列: echo_8660021824_1756396870536_e0c2f8e2, 位置: 1, thread: 8660021824
⏳ DEBUG: [53.320s] [QUEUE_WAITING] 加入等待队列: echo_8660021824_1756396870536_e0c2f8e2, 位置: 1, thread: 8660021824
🕐 等待队列中超时请求，移除: echo_8660021824_1756396870536_e0c2f8e2
🧹 清理了 1 个无效的等待请求
⏳ DEBUG: [89.526s] [QUEUE_WAITING] 加入等待队列: echo_8660021824_1756396870536_e0c2f8e2, 位置: 2, thread: 8660021824
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396928637_458c236b
🧹 清理了 1 个无效的等待请求
🕐 等待队列中超时请求，移除: echo_8660021824_1756396870536_e0c2f8e2
🧹 清理了 1 个无效的等待请求
⏳ DEBUG: [125.834s] [QUEUE_WAITING] 加入等待队列: echo_8660021824_1756396870536_e0c2f8e2, 位置: 2, thread: 8660021824
🕐 当前窗口超时，释放锁: echo_8660021824_1756396928637_458c236b
🚀 DEBUG: [144.968s] [QUEUE_ACQUIRED] 立即获得窗口槽位: echo_8660021824_1756396870536_e0c2f8e2, thread: 8660021824
✅ DEBUG: [144.968s] [ACQUIRED] 窗口槽位已获得 - window_id: echo_8660021824_1756396870536_e0c2f8e2, cmd: echo
🖥️ DEBUG: [144.979s] [EXEC] 开始执行远端命令 - window_id: echo_8660021824_1756396870536_e0c2f8e2, cmd: echo
🔧 DEBUG: [144.979s] [CAPTURE_ENTRY] _execute_with_result_capture 开始 - window_id: echo_8660021824_1756396870536_e0c2f8e2, cmd: echo
📄 DEBUG: [144.979s] [FILES] 结果文件名: cmd_1756397015_020b9de3.json - window_id: echo_8660021824_1756396870536_e0c2f8e2
🖥️ DEBUG: [144.985s] [WINDOW] 准备显示窗口 - window_id: echo_8660021824_1756396870536_e0c2f8e2, cmd: echo
📋 DEBUG: [150.213s] [WINDOW_RESULT] 窗口操作完成 - window_id: echo_8660021824_1756396870536_e0c2f8e2, action: success
⏳ DEBUG: [150.213s] [WAIT_FILE] 等待结果文件 - window_id: echo_8660021824_1756396870536_e0c2f8e2, filename: cmd_1756397015_020b9de3.json
⏳ Waiting for result ........√
📄 DEBUG: [164.461s] [FILE_READ] 结果文件读取完成 - window_id: echo_8660021824_1756396870536_e0c2f8e2, success: True
🔧 DEBUG: [164.461s] [CAPTURE_EXIT] _execute_with_result_capture 结束 - window_id: echo_8660021824_1756396870536_e0c2f8e2
📋 DEBUG: [164.461s] [RESULT] 远端命令执行完成 - window_id: echo_8660021824_1756396870536_e0c2f8e2, success: True
🔓 DEBUG: [164.461s] [RELEASE] 释放窗口槽位 - window_id: echo_8660021824_1756396870536_e0c2f8e2, cmd: echo
✅ DEBUG: [164.461s] [QUEUE_RELEASE] 释放当前窗口槽位: echo_8660021824_1756396870536_e0c2f8e2, thread: 8660021824
📊 DEBUG: [164.461s] [COUNTER] 窗口完成计数: 4 - window_id: echo_8660021824_1756396870536_e0c2f8e2
🔄 DEBUG: [164.461s] [QUEUE_NEXT] 下一个窗口获得槽位: echo_8660021824_1756396870536_e0c2f8e2, thread: 8660021824
🎯 DEBUG: [164.462s] [IMMEDIATE_RELEASE] 窗口槽位立即释放完成 - window_id: echo_8660021824_1756396870536_e0c2f8e2
✅ DEBUG: [164.463s] [RELEASED] 窗口槽位已释放 - window_id: echo_8660021824_1756396870536_e0c2f8e2, cmd: echo
{name: test, value: 123}
⏳ Validating file creation ...ok

----------------------------------------------------------------------
Ran 1 test in 193.617s

OK
✗
🗑️ 已清理文件: /Users/wukunhuan/.local/bin/local_redirect.txt
