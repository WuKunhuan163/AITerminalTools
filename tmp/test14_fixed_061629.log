.
----------------------------------------------------------------------
Ran 1 test in 477.449s

OK
🚀 设置GDS全面测试环境...
📁 远端测试目录: ~/tmp/gds_test_20250831_061629_900470_cbb7c8e3
✅ 已切换到远端测试目录: ~/tmp/gds_test_20250831_061629_900470_cbb7c8e3
📁 本地临时目录: /var/folders/w0/m02j_xv925sg34708rb2xgzr0000gn/T/gds_test_local_f_59apkl
✅ 测试环境设置完成

🧪 测试14: 文件编辑操作

🔄 执行带重试的命令: upload --force /Users/wukunhuan/.local/bin/_UNITTEST/_TEMP/test04_simple_hello.py
🔍 验证命令: ['ls test04_simple_hello.py']
🎯 最大重试次数: 3

📍 尝试 1/3

🔧 执行命令: upload --force /Users/wukunhuan/.local/bin/_UNITTEST/_TEMP/test04_simple_hello.py
📤 返回码: 1
📝 输出: ⏳ Waiting for upload .........√
⏳ Waiting for result .......√
⏳ Validating test04_simple_hello.py ..............................................................✗
Upload failed
...
❌ 主命令失败，返回码: 1
⏳ 等待1秒后重试...

📍 尝试 2/3

🔧 执行命令: upload --force /Users/wukunhuan/.local/bin/_UNITTEST/_TEMP/test04_simple_hello.py
📤 返回码: 0
📝 输出: ⏳ Waiting for upload .........√
⏳ Waiting for result .....√
⏳ Validating test04_simple_hello.py ...√
Upload completed: 1/1 files
...
  🔍 验证 1/1: ls test04_simple_hello.py

🔧 执行命令: ls test04_simple_hello.py
📤 返回码: 0
📝 输出: test04_simple_hello.py
...
  ✅ 验证成功
🎉 所有验证通过，命令成功执行

🔄 执行带重试的命令: upload --force /Users/wukunhuan/.local/bin/_UNITTEST/_TEMP/test04_simple_hello.py
🔍 验证命令: ['ls test04_simple_hello.py']
🎯 最大重试次数: 3

📍 尝试 1/3

🔧 执行命令: upload --force /Users/wukunhuan/.local/bin/_UNITTEST/_TEMP/test04_simple_hello.py
📤 返回码: 0
📝 输出: ⏳ Waiting for upload ........√
⏳ Waiting for result .......√
⏳ Validating test04_simple_hello.py ...√
Upload completed: 1/1 files
...
  🔍 验证 1/1: ls test04_simple_hello.py

🔧 执行命令: ls test04_simple_hello.py
📤 返回码: 0
📝 输出: test04_simple_hello.py
...
  ✅ 验证成功
🎉 所有验证通过，命令成功执行
✅ upload --force覆盖功能验证成功

🔄 执行带重试的命令: edit test04_simple_hello.py '[["Hello from remote project!", "Hello from MODIFIED remote project!"]]'
🔍 验证命令: ['grep "MODIFIED" test04_simple_hello.py']
🎯 最大重试次数: 3

📍 尝试 1/3

🔧 执行命令: edit test04_simple_hello.py '[["Hello from remote project!", "Hello from MODIFIED remote project!"]]'
📤 返回码: 0
📝 输出: ⏳ Waiting for upload .........√
⏳ Waiting for result .......√
⏳ Validating test04_simple_hello.py ...√

Edit comparison: test04_simple_hello.py
==================================================
--- t...
  🔍 验证 1/1: grep "MODIFIED" test04_simple_hello.py

🔧 执行命令: grep "MODIFIED" test04_simple_hello.py
📤 返回码: 0
📝 输出:   4: print("Hello from MODIFIED remote project!")
...
  ✅ 验证成功
🎉 所有验证通过，命令成功执行

🔄 执行带重试的命令: edit test04_simple_hello.py '[[[1, 2], "# Modified first line"]]'
🔍 验证命令: ['grep "# Modified first line" test04_simple_hello.py']
🎯 最大重试次数: 3

📍 尝试 1/3

🔧 执行命令: edit test04_simple_hello.py '[[[1, 2], "# Modified first line"]]'
📤 返回码: 0
📝 输出: ⏳ Waiting for upload ..........√
⏳ Waiting for result .........√
⏳ Validating test04_simple_hello.py ...√

Edit comparison: test04_simple_hello.py
==================================================
--...
  🔍 验证 1/1: grep "# Modified first line" test04_simple_hello.py

🔧 执行命令: grep "# Modified first line" test04_simple_hello.py
📤 返回码: 0
📝 输出:   2: # Modified first line
...
  ✅ 验证成功
🎉 所有验证通过，命令成功执行

🔧 执行命令: edit --preview test04_simple_hello.py '[["print", "# print"]]'
📤 返回码: 0
📝 输出: 
Edit comparison: test04_simple_hello.py
==================================================
--- test04_simple_hello.py (original)
+++ test04_simple_hello.py (modified)
@@ -1,6 +1,6 @@
 """
 # Modified...

🔄 执行带重试的命令: edit --backup test04_simple_hello.py '[["MODIFIED", "Updated"]]'
🔍 验证命令: ['grep "Updated" test04_simple_hello.py']
🎯 最大重试次数: 3

📍 尝试 1/3

🔧 执行命令: edit --backup test04_simple_hello.py '[["MODIFIED", "Updated"]]'
📤 返回码: 0
📝 输出: ⏳ Waiting for upload ........√
⏳ Waiting for result ........√
⏳ Validating test04_simple_hello.py.backup.20250831_062336_6621, test04_simple_hello.py ...√√

Edit comparison: test04_simple_hello.py
===...
  🔍 验证 1/1: grep "Updated" test04_simple_hello.py

🔧 执行命令: grep "Updated" test04_simple_hello.py
📤 返回码: 0
📝 输出:   3: print("Hello from Updated remote project!")
...
  ✅ 验证成功
🎉 所有验证通过，命令成功执行
